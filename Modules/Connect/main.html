<style>
  ::-webkit-scrollbar-track {
    border-radius: 5px;
  }
</style>

<div style="padding: 10px;">
  <div id="space">
    <div style="width: 100%; display: flex; align-items: center;">
      <div id="title" style="color: var(--text2Color); font-size: 40px; text-overflow: ellipsis; white-space: nowrap; overflow: hidden;">Connect</div>
    </div>

    <div style="width: 100%; margin-top: 20px; display: flex; align-items: center; font-family: ItemFont;">
      <input id='editText' placeholder="Send Text" type="text" maxlength="50" style="height: 32px; width: 250px; padding-left: 10px; padding-right: 10px; margin-right: 10px; color: var(--textColor); font-size: 16px; font-family: ItemFont; background-color: var(--boxColor); border-style: solid; border-color: var(--boxBorderColor); border-width: 1px; border-radius: var(--round);"></input>
      <div id="send" class="sbutton" style="height: 36px; min-width: 107px; background-image: url('./Data/Images/icon_description_launch.png');">Send</div>
      <div style="width: 100%;"></div>
      <div id="starts" class="sbutton" style="height: 36px; min-width: 107px; background-image: url('./Data/Images/icon_description_launch.png');">Start: No</div>
    </div>
  </div>

  <div id="textDiv" style="overflow-y: auto; margin-top: 10px;">
    <div id="text" style="margin-top: 10px; color: var(--text2Color); font-size: 16px; -moz-user-select: text; -ms-user-select: text; user-select: text; font-family: ItemFont;"></div>
  </div>
</div>

<script>
  document.getElementById('text').innerText = fullLog

  if (json.startServer)
    document.getElementById('starts').innerText = 'Start: Yes'
  else
    document.getElementById('starts').innerText = 'Start: No'

  ipcRenderer.on('resized', (event, size) => {
    document.getElementById('text').style.height = document.getElementById('rightBar').getBoundingClientRect().height-210-document.getElementById('space').getBoundingClientRect().height+'px';  
  })

  $('#editText').unbind()
  $('#editText').bind('keydown', function(event) {
    if (event.keyCode === 13) {
      event.preventDefault();
      var text = document.getElementById('editText').value+'\r\n'
      if (text != '\r\n') {
        try {
          mainSocket.write(text);
          appendText('Sent: '+text)
        } catch(e) {}
      }
      return false;
    }
  })

  addButtonListener('send', function() {
    document.getElementById('send').style.backgroundImage = 'url("./Data/Images/icon_description_launch_clicked.png")';
  }, function() {
    document.getElementById('send').style.backgroundImage = 'url("./Data/Images/icon_description_launch.png")';
  }, function() {
    var text = document.getElementById('editText').value+'\r\n'
    if (text != '\r\n') {
      try {
        mainSocket.write(text);
        appendText('Sent: '+text)
      } catch(e) {}
    }
  })

  addButtonListener('starts', function() {
    document.getElementById('starts').style.backgroundImage = 'url("./Data/Images/icon_description_launch_clicked.png")';
  }, function() {
    document.getElementById('starts').style.backgroundImage = 'url("./Data/Images/icon_description_launch.png")';
  }, function() {
    if (json.startServer) {
      json.startServer = false
      updateData(json)
      document.getElementById('starts').innerText = 'Start: No'
      appendText('Server Will Not Start After Restart\n')
    } else if (!json.startServer) {
      json.startServer = true
      updateData(json)
      document.getElementById('starts').innerText = 'Start: Yes'
      appendText('Server Will Start After Restart\n')
    } else {
      document.getElementById('starts').innerText = 'Start: a?'
    }
  })
</script>