<div style="margin: 10px;">
  <div style="width: 100%; display: flex; align-items: center;">
    <div id="title" style="color: var(--text2Color); font-size: 40px; text-overflow: ellipsis; white-space: nowrap; overflow: hidden;">Installer</div>
  </div>

  <div style="width: 100%; margin-top: 15px; display: flex;">
    <input id='path' placeholder="File path (zip, rar...)" type="text" style="height: 32px; width: calc(100% - 46px); margin-right: 10px; padding-left: 10px; padding-right: 10px; color: var(--textColor); font-size: 16px; font-family: ItemFont; background-color: var(--boxColor); border-style: solid; border-color: var(--boxBorderColor); border-width: 1px; border-radius: var(--round);"></input>
    <div id="pathFolder" style="height: 36px; min-width: 36px; background-image: url('./Data/Images/icon_description_folder.png');">
      <img style="height: 30px; min-width: 30px; margin: 3px; -webkit-user-drag: none;" src="./Data/Images/icon_folder.png"></img>
    </div>
  </div>
  
  <div style="width: calc(100% - 20px); margin-top: 20px;">
    <input id='name' placeholder="Name (optional)" type="text" style="height: 32px; width: 100%; padding-left: 10px; padding-right: 10px; color: var(--textColor); font-size: 16px; font-family: ItemFont; background-color: var(--boxColor); border-style: solid; border-color: var(--boxBorderColor); border-width: 1px; border-radius: var(--round);"></input>
  </div>
  
  <div style="width: 100%; margin-top: 20px; display: flex;">
    <input id='destination' placeholder="Destination" type="text" style="height: 32px; width: calc(100% - 46px); margin-right: 10px; padding-left: 10px; padding-right: 10px; color: var(--textColor); font-size: 16px; font-family: ItemFont; background-color: var(--boxColor); border-style: solid; border-color: var(--boxBorderColor); border-width: 1px; border-radius: var(--round);"></input>
    <div id="destinationFolder" style="height: 36px; min-width: 36px; background-image: url('./Data/Images/icon_description_folder.png');">
      <img style="height: 30px; min-width: 30px; margin: 3px; -webkit-user-drag: none;" src="./Data/Images/icon_folder.png"></img>
    </div>
  </div>
  
  <div id="log" style="height: 20px; margin-top: 10px; display: flex; align-items: center;  color: var(--textColor); font-family: ItemFont;">Log</div>
  
  <div id="install" style="height: 36px; width: 107px; margin-top: 10px; display: flex; justify-content: center; align-items: center; background-image: url('./Data/Images/icon_description_launch.png'); color: var(--textColor);">
    <div style="font-family: ItemFont;">Install</div>
  </div>
</div>

<script>
  log('Log')

  //LOG
  ipcRenderer.on('log', (event, text) => {
    log(text)
  })

  function log(text) {
    document.getElementById('log').innerText = `(${Date.now()}) `+text
  }

  ipcRenderer.on('gfolder', (event, text) => {
    document.getElementById('destination').value = text
  })

  //GET FILE
  addButtonListener('pathFolder', function() {
    document.getElementById('pathFolder').style.backgroundImage = 'url("./Data/Images/icon_description_folder_clicked.png")';
  }, function() {
    document.getElementById('pathFolder').style.backgroundImage = 'url("./Data/Images/icon_description_folder.png")';
  }, function() {
    ipcRenderer.send('getFileOther')
  })

  ipcRenderer.on('gottenFileOther', (event, text) => {
    if (text != '')
      document.getElementById('path').value = text
  })

  //GET DESTINATION
  addButtonListener('destinationFolder', function() {
    document.getElementById('destinationFolder').style.backgroundImage = 'url("./Data/Images/icon_description_folder_clicked.png")';
  }, function() {
    document.getElementById('destinationFolder').style.backgroundImage = 'url("./Data/Images/icon_description_folder.png")';
  }, function() {
    ipcRenderer.send('getDestinationOther')
  })

  ipcRenderer.on('gottenDestinationOther', (event, text) => {
    if (text != '')
      document.getElementById('destination').value = text
  })

  //INSTALL
  addButtonListener('install', function() {
    document.getElementById('install').style.backgroundImage = 'url("./Data/Images/icon_description_launch_clicked.png")';
  }, function() {
    document.getElementById('install').style.backgroundImage = 'url("./Data/Images/icon_description_launch.png")';
  }, function() {
    //PATH
    let path = document.getElementById('path').value
    if (path == '') {
      log('File path is necesary')
      return
    }
    //NAME
    let name = document.getElementById('name').value
    //DESTINATION
    let destination = document.getElementById('destination').value
    if (destination == '') {
      log('Destination is necesary')
      return
    }
    //INSTALL
    ipcRenderer.send('pause')
    ipcRenderer.send('install', path, name, destination)
  })
</script>