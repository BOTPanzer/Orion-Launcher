<div id="content" style="height: 100%; margin: 10px; margin-bottom: 20px; color: white;">
  <div style="display: flex; align-items: center; margin: 10px;">
    <div id="txtMenu" style="color: var(--c4); font-size: 40px; margin: 0px;">Theme Manager</div>
    <div id="folder" style="height: 36px; min-width: 36px; background-image: url('./Data/Images/icon_description_folder.png'); margin-left: 10px;">
      <img style="height: 30px; min-width: 30px; margin: 3px; -webkit-user-drag: none;" src="./Data/Images/icon_folder.png"></img>
    </div>
  </div>
	<div style="display: flex; justify-content: space-between;">
	  <div id="list" style="color: var(--c3); font-family: ItemFont; margin-left: 10px">

    </div>
	</div>
</div>

<script>
  ipcRenderer.on('clearList', (event) => {
    document.getElementById('list').innerHTML = '';
  })

  ipcRenderer.on('add1ToList', (event, item) => {
    document.getElementById('list').insertAdjacentHTML('beforeend', item)
  })

  ipcRenderer.on('addListener', (event, id, path) => {
    document.getElementById(id).addEventListener('mousedown', (event) => {
      if (event.which != 1) return
      document.getElementById(id).style.backgroundImage = 'url("./Data/Images/icon_item_clicked.png")';
    
      document.addEventListener('mouseup', () => {
        document.getElementById(id).style.backgroundImage = 'url("./Data/Images/icon_item.png")';
      })
    })

    document.getElementById(id).addEventListener('mouseup', (event) => {
      if (event.which != 1) return
      document.getElementById('txtMenu').innerText = 'Loading: '+path.substring(path.lastIndexOf('\\')+1)
      $("#rightBar").animate({ scrollTop: 0 }, "fast");
	    setTimeout(function() {
        let scroll = document.getElementById('rightBar').scrollTop
        document.body.replaceWith(document.body.cloneNode(true));
        document.getElementById('rightBar').scrollTop = scroll
        ipcRenderer.send('copyTheme', path)
      }, 100)
    })
  })


  document.getElementById('folder').addEventListener('mousedown', (event) => {
    if (event.which != 1) return
    document.getElementById('folder').style.backgroundImage = 'url("./Data/Images/icon_description_folder_clicked.png")';
    
    document.addEventListener('mouseup', () => {
      document.getElementById('folder').style.backgroundImage = 'url("./Data/Images/icon_description_folder.png")';
    })
  })

  document.getElementById('folder').addEventListener('mouseup', (event) => {
    if (event.which != 1) return
    ipcRenderer.send('openThemeFolder')
  })
</script>